apply plugin: 'java'
defaultTasks 'help'

dependencies {
  testImplementation 'org.junit.jupiter:junit-jupiter-api:5.5.1'
  testImplementation 'io.appium:java-client:7.2.0'
  testImplementation 'com.codeborne:selenide:5.2.8'
  testRuntimeOnly 'org.junit.jupiter:junit-jupiter-engine:5.5.1'
}

repositories {
  jcenter()
  mavenCentral()
}

task android(type: Test) {
  useJUnitPlatform()
  environment 'PLATFORM', 'android'
}

task ios(type: Test) {
  useJUnitPlatform()
  environment 'PLATFORM', 'ios'
}

help {
  doFirst {
    println ""
    println "************************************************************************ "
    println "***                                                                  *** "
    println "*** Welcome to https://github.com/wikipedia-qa/wikipedia-selenide!   *** "
    println "***                                                                  *** "
    println "*** You can run tests by one of the following commands:              *** "
    println "*** ./gradlew android                                                *** "
    println "*** ./gradlew ios                                                    *** "
    println "***                                                                  *** "
    println "************************************************************************ "
    println ""
  }
}
